# =============================================================================
# TodoList Backend Environment Configuration
# =============================================================================
# Copy this file to .env and update the values according to your environment
# Never commit .env files to version control!

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
HOST=localhost

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB connection string
# Format: mongodb://[username:password@]host[:port]/database[?options]
DATABASE=mongodb://localhost:27017/todolist

# Database connection pool settings
DATABASE_POOL_SIZE=10
DATABASE_CONNECT_TIMEOUT_MS=30000
DATABASE_SOCKET_TIMEOUT_MS=45000

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# JWT secret key (minimum 32 characters, use a strong random string)
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long

# JWT algorithm (HS256, HS384, HS512, RS256, RS384, RS512)
JWT_ALG=HS256

# JWT key ID (optional, for key rotation)
# JWT_KID=key-1

# JWT RSA keys (optional, for RS256/RS384/RS512 algorithms)
# JWT_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----
# JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\n...\n-----END PUBLIC KEY-----

# JWT issuer and audience
JWT_ISS=todolist-app
JWT_AUD=todolist-users

# JWT expiration times
JWT_EXPIRES_IN=7d
ACCESS_TOKEN_TTL_MS=900000

# =============================================================================
# REFRESH TOKEN CONFIGURATION
# =============================================================================
# Refresh token hash secret (minimum 32 characters)
REFRESH_HASH_SECRET=your-super-secret-refresh-hash-key-minimum-32-characters-long
REFRESH_TOKEN_TTL_MS=604800000

# =============================================================================
# COOKIE CONFIGURATION
# =============================================================================
# Cookie security settings
COOKIE_SAMESITE=lax
COOKIE_SECURE=false
# COOKIE_DOMAIN=.yourdomain.com

# Cookie names
ACCESS_COOKIE_NAME=accessToken
REFRESH_COOKIE_NAME=refreshToken

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Frontend URL for CORS
CORS_ORIGIN=http://localhost:5173
CORS_CREDENTIALS=true

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Standard rate limiting (15 minutes)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# Authentication rate limiting (15 minutes)
RATE_LIMIT_AUTH_WINDOW_MS=900000
RATE_LIMIT_AUTH_MAX_REQUESTS=10

# Strict rate limiting (5 minutes)
RATE_LIMIT_STRICT_WINDOW_MS=300000
RATE_LIMIT_STRICT_MAX_REQUESTS=5

# Registration rate limiting (1 hour)
RATE_LIMIT_REGISTRATION_WINDOW_MS=3600000
RATE_LIMIT_REGISTRATION_MAX_REQUESTS=3

# =============================================================================
# TRUST PROXY CONFIGURATION
# =============================================================================
# Trust proxy setting (0 = disabled, 1 = first proxy, true = all proxies)
TRUST_PROXY=0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log level (fatal, error, warn, info, debug, trace)
LOG_LEVEL=info

# Pretty print logs in development
LOG_PRETTY=false

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# bcrypt rounds for password hashing
BCRYPT_ROUNDS=12

# Session secret (optional, for additional session security)
# SESSION_SECRET=your-super-secret-session-key-minimum-32-characters-long

# =============================================================================
# API CONFIGURATION
# =============================================================================
# API version and prefix
API_VERSION=v1
API_PREFIX=/api

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================
# Health check timeout in milliseconds
HEALTH_CHECK_TIMEOUT_MS=5000

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# Uncomment and modify these for production deployment:

# NODE_ENV=production
# PORT=3000
# HOST=0.0.0.0
# DATABASE=mongodb://username:password@host:port/database
# JWT_SECRET=your-production-jwt-secret-key
# REFRESH_HASH_SECRET=your-production-refresh-hash-secret
# COOKIE_SECURE=true
# COOKIE_DOMAIN=.yourdomain.com
# CORS_ORIGIN=https://yourdomain.com
# TRUST_PROXY=1
# LOG_LEVEL=warn
# LOG_PRETTY=false
